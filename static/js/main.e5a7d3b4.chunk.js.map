{"version":3,"sources":["defaultValue.js","App.js","index.js","obj2html.js"],"names":["defaultValue","題名","内容","項目名","備考","アイテム1","アイテム2","App","props","handleChange","event","setState","out","obj2html","jsyaml","safeLoad","target","value","e","state","yml","dump","href","valign","rows","cols","onChange","this","dangerouslySetInnerHTML","__html","React","Component","ReactDOM","render","document","getElementById","convert","item","body","isString","Array","itemVal","Object","createlistTable","idx","replace","itemKey","childKeyList","child","childKey","indexOf","push","childHash","childVal","obj","String","exports"],"mappings":"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","file":"static/js/main.e5a7d3b4.chunk.js","sourcesContent":["\r\nexport const defaultValue = {\r\n    題名: \"XX情報\",\r\n    内容: [\r\n        {\r\n            項目名: \"ID\",\r\n            備考: [\r\n                \"半角英数字と\\n _（アンダーバー）のみ\",\r\n                \"～～～\"]\r\n        },\r\n        {\r\n            項目名: \"項目A\",\r\n            備考: '<a href=\"//google.com\" target=\"_blank\">Google</a>'\r\n        },\r\n        {\r\n            項目名: \"項目B\",\r\n            備考: [\r\n                {\r\n                    \"item1\": \"value1-1\",\r\n                    \"item2\": \"value2-1\",\r\n                },\r\n                {\r\n                    \"item1\": \"value1-2\",\r\n                    \"item2\": \"value2-2\",\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            項目名: \"項目C\",\r\n            備考:\r\n            {\r\n                アイテム1: \"値1\",\r\n                アイテム2: [\r\n                    {\r\n                        \"title1\": \"aaa\",\r\n                        \"title2\": \"bbb\",\r\n                    },\r\n                    {\r\n                        \"title1\":\r\n                            [\r\n                                \"～～\",\r\n                                \"～～\"\r\n                            ],\r\n                        \"title2\": \"ccc\",\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n    ]\r\n}","import React from 'react';\r\nimport jsyaml from 'js-yaml';\r\nimport { defaultValue } from './defaultValue';\r\nimport { obj2html } from './obj2html';\r\n\r\nexport default class App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            yml: jsyaml.dump(defaultValue),\r\n            out: obj2html(defaultValue),\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>YAML HTML Preview</h1>\r\n                <span>\r\n                    <a href=\"https://github.com/daiwata/react-yaml-html-preview\" target=\"_blank\">GitHub</a>\r\n                    ｜\r\n                    <a href=\"https://marketplace.visualstudio.com/items?itemName=daiwata.yaml-preview\" target=\"_blank\">VS Code Extension</a>\r\n                </span>\r\n                <hr />\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td valign=\"top\">\r\n                                <span>↓ Input YAML</span><br />\r\n                                <textarea\r\n                                    rows='40'\r\n                                    cols='60'\r\n                                    onChange={this.handleChange}\r\n                                    defaultValue={this.state.yml}>\r\n                                </textarea>\r\n                            </td>\r\n                            <td valign=\"top\">\r\n                                <span>↓ Realtime HTML Preview</span><br />\r\n                                <div dangerouslySetInnerHTML={\r\n                                    { __html: this.state.out }\r\n                                } />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table >\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleChange = event => {\r\n        try {\r\n            this.setState({\r\n                out: obj2html(\r\n                    jsyaml.safeLoad(event.target.value)\r\n                )\r\n            })\r\n        } catch (e) {\r\n            // Nothing to do\r\n        }\r\n    };\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n","function obj2html(obj) {\r\n    let body = `<div class=\"doc-struct\"><table>`;\r\n    body += convert(obj)\r\n    body += `</table></div>`\r\n    return body\r\n}\r\nexports.obj2html = obj2html;\r\n\r\nfunction convert(item, body = \"\") {\r\n\r\n    // 文字列の場合は何もしない\r\n    if (isString(item)) {\r\n        return body;\r\n    }\r\n\r\n    // 配列の場合\r\n    if (item instanceof Array) {\r\n        let itemVal = item[0];\r\n        // 値がオブジェクトの場合\r\n        if (itemVal instanceof Object) {\r\n            body = createlistTable(item, body);\r\n        }\r\n        else {\r\n            // 値が文字列要素の場合\r\n            body += `<ul>`\r\n            for (let idx in item) {\r\n                body += `<li>${item[idx]}</li>`.replace(/\\r?\\n/g, \"<br>\");\r\n            }\r\n            body += `</ul>`\r\n        }\r\n    } else {\r\n        for (let itemKey in item) {\r\n            let itemVal = item[itemKey];\r\n            // 値がオブジェクト・配列の場合\r\n            if (itemVal instanceof Object || itemVal instanceof Array) {\r\n                body += `<tr><th>${itemKey}</th><td><table>`;\r\n                body = convert(itemVal, body);\r\n                body += `</table></td></tr>`;\r\n            }\r\n            else {\r\n                // 値が文字列要素の場合\r\n                body += `<tr><th>${itemKey}</th>`;\r\n                body += `<td>${itemVal}</td></tr>`.replace(\"\\n\", \"<br>\");\r\n            }\r\n        }\r\n    }\r\n    return body;\r\n}\r\nexports.convert = convert;\r\n\r\n// Hash の List については一覧表を作る\r\nfunction createlistTable(item, body) {\r\n\r\n    // 重複しないキーのリストを作成\r\n    var childKeyList = [];\r\n    for (let idx in item) {\r\n        let itemVal = item[idx];\r\n        if (isString(itemVal)) {\r\n            break;\r\n        }\r\n        let child = itemVal;\r\n        for (let childKey in child) {\r\n            if (childKeyList.indexOf(childKey) === -1) {\r\n                childKeyList.push(childKey);\r\n            }\r\n        }\r\n    }\r\n\r\n    body += `<tr>`;\r\n\r\n    // テーブルヘッダ部\r\n    for (let idx in childKeyList) {\r\n        body += `<th>${childKeyList[idx]}</th>`;\r\n    }\r\n    body += \"</tr>\";\r\n\r\n    // テーブルデータ部\r\n    for (let idx in item) {\r\n        let childHash = item[idx];\r\n        body += \"<tr>\";\r\n        for (let idx in childKeyList) {\r\n            let childVal = childHash[childKeyList[idx]];\r\n            body += \"<td>\"\r\n            // 子階層がオブジェクトの場合は再帰呼び出し\r\n            if (childVal instanceof Object) {\r\n                body += `<table>`;\r\n                body = convert(childVal, body);\r\n                body += `</table>`;\r\n            }\r\n            // 子階層がArrayの場合は再帰呼び出し\r\n            else if (childVal instanceof Object) {\r\n                body += `<table>`;\r\n                body = createlistTable(childVal, body);\r\n                body += `</table>`;\r\n            }\r\n            else {\r\n                body += `${childVal}`;\r\n            }\r\n            body += \"</td>\"\r\n        }\r\n        body += `</tr>`;\r\n    }\r\n    return body;\r\n}\r\nexports.createlistTable = createlistTable;\r\n\r\nfunction isString(obj) {\r\n    return typeof (obj) == \"string\" || obj instanceof String;\r\n};"],"sourceRoot":""}